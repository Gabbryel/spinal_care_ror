<div class="modern-consumption-page">
  <div class="consumption-header">
    <div class="header-content">
      <div class="header-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path fill-rule="evenodd" d="M7.5 5.25a3 3 0 013-3h3a3 3 0 013 3v.205c.933.085 1.857.197 2.774.334 1.454.218 2.476 1.483 2.476 2.917v3.033c0 1.211-.734 2.352-1.936 2.752A24.726 24.726 0 0112 15.75c-2.73 0-5.357-.442-7.814-1.259-1.202-.4-1.936-1.541-1.936-2.752V8.706c0-1.434 1.022-2.7 2.476-2.917A48.814 48.814 0 017.5 5.455V5.25zm7.5 0v.09a49.488 49.488 0 00-6 0v-.09a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5zm-3 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z" clip-rule="evenodd" />
          <path d="M3 18.4v-2.796a4.3 4.3 0 00.713.31A26.226 26.226 0 0012 17.25c2.892 0 5.68-.468 8.287-1.335.252-.084.49-.189.713-.311V18.4c0 1.452-1.047 2.728-2.523 2.923-2.12.282-4.282.427-6.477.427a49.19 49.19 0 01-6.477-.427C4.047 21.128 3 19.852 3 18.4z" />
        </svg>
      </div>
      <div>
        <h1><%= @job_posting.name %></h1>
        <p>Publicat la <%= @job_posting.created_at.strftime('%d.%m.%Y') %></p>
      </div>
    </div>
    <%= link_to cariere_path, class: 'back-link' do %>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
      </svg>
      Înapoi
    <% end %>
  </div>

  <div class="job-details-container">
    <div class="job-details-card">
      <div class="job-info-header">
        <div class="info-badge">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z" clip-rule="evenodd" />
          </svg>
          <div>
            <strong>Aplicările sunt acceptate până la</strong>
            <span class="date-value"><%= @job_posting.valid_until.strftime('%d.%m.%Y') %></span>
          </div>
        </div>
        
        <% if @job_posting.expired? %>
          <span class="status-badge expired">Expirat</span>
        <% elsif @job_posting.valid_until <= Date.today + 7.days %>
          <span class="status-badge expiring">Expiră în curând</span>
        <% else %>
          <span class="status-badge active">Activ</span>
        <% end %>
      </div>

      <div class="job-description-content">
        <%= @job_posting.description %>
      </div>

      <div class="job-actions">
        <a href="tel:0374554344" class="btn-primary-action">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
          </svg>
          Sună-ne: 0374 554 344
        </a>
        
        <%= link_to cariere_path, class: 'btn-secondary-action' do %>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
          </svg>
          Înapoi la cariere
        <% end %>
      </div>
    </div>
  </div>
</div>

<style>
  .job-details-container {
    max-width: 900px;
    margin: 2rem auto;
    padding: 0 1.5rem;
  }

  .job-details-card {
    background: white;
    border-radius: 16px;
    padding: 2.5rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    border: 1px solid #e5e7eb;
  }

  .job-info-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1.5rem;
    background: #f9fafb;
    border-radius: 12px;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .info-badge {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .info-badge svg {
    width: 40px;
    height: 40px;
    color: #3b82f6;
    flex-shrink: 0;
  }

  .info-badge div {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .info-badge strong {
    font-size: 0.875rem;
    color: #6b7280;
    font-weight: 600;
  }

  .date-value {
    font-size: 1.125rem;
    font-weight: 700;
    color: #1f2937;
  }

  .status-badge {
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 600;
    white-space: nowrap;
  }

  .status-badge.active {
    background: #dcfce7;
    color: #16a34a;
  }

  .status-badge.expiring {
    background: #fef3c7;
    color: #ca8a04;
  }

  .status-badge.expired {
    background: #fee2e2;
    color: #dc2626;
  }

  .job-description-content {
    font-size: 1.0625rem;
    line-height: 1.8;
    color: #374151;
    margin-bottom: 2.5rem;
  }

  .job-description-content h2,
  .job-description-content h3 {
    margin-top: 2rem;
    margin-bottom: 1rem;
    color: #1f2937;
    font-weight: 600;
  }

  .job-description-content h2 {
    font-size: 1.5rem;
  }

  .job-description-content h3 {
    font-size: 1.25rem;
  }

  .job-description-content ul,
  .job-description-content ol {
    margin: 1.5rem 0;
    padding-left: 2rem;
  }

  .job-description-content li {
    margin-bottom: 0.75rem;
  }

  .job-description-content p {
    margin-bottom: 1rem;
  }

  .job-actions {
    display: flex;
    gap: 1rem;
    padding-top: 2rem;
    border-top: 2px solid #e5e7eb;
    flex-wrap: wrap;
  }

  .btn-primary-action {
    flex: 1;
    min-width: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1rem 1.5rem;
    background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
    color: white;
    border-radius: 10px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: all 0.3s;
    box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
    border: none;
  }

  .btn-primary-action:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(249, 115, 22, 0.4);
    color: white;
  }

  .btn-primary-action svg {
    width: 20px;
    height: 20px;
  }

  .btn-secondary-action {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1rem 1.5rem;
    background: white;
    color: #6b7280;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: all 0.3s;
  }

  .btn-secondary-action:hover {
    background: #f9fafb;
    border-color: #d1d5db;
    color: #374151;
  }

  .btn-secondary-action svg {
    width: 20px;
    height: 20px;
  }

  @media (max-width: 768px) {
    .job-details-card {
      padding: 1.5rem;
    }

    .job-info-header {
      flex-direction: column;
      align-items: flex-start;
    }

    .job-actions {
      flex-direction: column;
    }

    .btn-primary-action {
      width: 100%;
    }
  }
</style>
